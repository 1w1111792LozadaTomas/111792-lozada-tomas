<div>
  <app-spinner-carga [hidden]="!this.spinner.spinnerCarga"></app-spinner-carga>
</div>
<div class="container">
  <div class="row">
    <h1 class="display-1"><span style="color: #79B872;">Mi</span> Familia</h1>
  </div>
  <hr>
  <div class="row" [hidden]="!FamiliaresCargados">
    <mat-form-field appearance="outline" style="margin-right: 0px;margin-left: auto;">
      <mat-label>Buscar</mat-label>
      <input matInput (keyup)="applyFilter($event)" placeholder="Ingrese filtro de bÃºsqueda" #input>
    </mat-form-field>
    <table mat-table [dataSource]="dataSource" matSort>
      <ng-container matColumnDef="nombre">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Nombre Completo </th>
        <td mat-cell *matCellDef="let familiar" [ngClass]="{red: familiar.fecha_baja}"
          style="text-align: left; padding: 4px;"> {{familiar.nombre || "S/D"}}
        </td>
      </ng-container>
      <ng-container matColumnDef="nro_documento">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Documento </th>
        <td mat-cell *matCellDef="let familiar" [ngClass]="{red: familiar.fecha_baja}"
          style="text-align: center; padding: 4px;"> {{familiar.nro_documento ||
          "S/D"}} </td>
      </ng-container>
      <ng-container matColumnDef="edad">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Edad </th>
        <td mat-cell *matCellDef="let familiar" [ngClass]="{red: familiar.fecha_baja}"
          style="text-align: right; padding: 4px;"> {{familiar.edad || "S/D"}} </td>
      </ng-container>
      <ng-container matColumnDef="id_parentesco1">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Parentesco </th>
        <td mat-cell *matCellDef="let familiar" [ngClass]="{red: familiar.fecha_baja}"
          style="text-align: left; padding: 4px;"> {{familiar.id_parentesco1 ||
          "S/D"}} </td>
      </ng-container>
      <ng-container matColumnDef="fecha_nac1">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Fecha Nacimiento </th>
        <td mat-cell *matCellDef="let familiar" [ngClass]="{red: familiar.fecha_baja}"
          style="text-align: center; padding: 4px;"> {{familiar.fecha_nac1 || "S/D"}}
        </td>
      </ng-container>
      <ng-container matColumnDef="discapacitado1">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Discapacidad </th>
        <td mat-cell *matCellDef="let familiar" [ngClass]="{red: familiar.fecha_baja}"
          style="text-align: center; padding: 4px;"> {{familiar.discapacitado1 ||
          "S/D"}} </td>
      </ng-container>
      <ng-container matColumnDef="escolaridad1">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Escolaridad </th>
        <td mat-cell *matCellDef="let familiar" [ngClass]="{red: familiar.fecha_baja}"
          style="text-align: center; padding: 4px;"> {{familiar.escolaridad1 ||
          "S/D"}} </td>
      </ng-container>
      <ng-container matColumnDef="a_cargo">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> A Cargo </th>
        <td mat-cell *matCellDef="let familiar" [ngClass]="{red: familiar.fecha_baja}"
          style="text-align: center; padding: 4px;"> {{familiar.a_cargo1 || "S/D"}}
        </td>
      </ng-container>
      <ng-container matColumnDef="fecha_baja1">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Fecha Baja </th>
        <td mat-cell *matCellDef="let familiar" [ngClass]="{red: familiar.fecha_baja}"
          style="text-align: center; padding: 4px;"> {{familiar.fecha_baja1}} </td>
      </ng-container>
      <ng-container matColumnDef="ver">
        <th mat-header-cell *matHeaderCellDef> Ver </th>
        <td mat-cell *matCellDef="let familiar" [ngClass]="{red: familiar.fecha_baja}"> <button type="button"
            class="btn btn-info" (click)="abrirModalEditar(familiar.id_grupo_fam,familiar.nombre,true)"
            data-bs-toggle="modal" data-bs-target="#staticBackdrop">
            <i class="fa-solid fa-eye" style="color:white"></i>
          </button> </td>
      </ng-container>
      <ng-container matColumnDef="editar">
        <th mat-header-cell *matHeaderCellDef> Editar </th>
        <td mat-cell *matCellDef="let familiar" [ngClass]="{red: familiar.fecha_baja}"> <button type="button"
            [hidden]="familiar.fecha_baja1" class="btn btn-warning"
            (click)="abrirModalEditar(familiar.id_grupo_fam,familiar.nombre,false)" data-bs-toggle="modal"
            data-bs-target="#staticBackdrop">
            <i class="fa-solid fa-pen" style="color:white"></i>
          </button> </td>
      </ng-container>
      <ng-container matColumnDef="anular">
        <th mat-header-cell *matHeaderCellDef> Eliminar </th>
        <td mat-cell *matCellDef="let familiar" [ngClass]="{red: familiar.fecha_baja}"> <button type="button"
            [hidden]="familiar.fecha_baja1" class="btn btn-danger"
            (click)="modalBorrar(familiar.id_grupo_fam,familiar.nombre)" data-bs-toggle="modal"
            data-bs-target="#staticBackdrop">
            <i class="fa-solid fa-trash-can" style="color:white"></i>
          </button> </td>
      </ng-container>
      <tr mat-header-row *matHeaderRowDef="columnas"></tr>
      <tr mat-row *matRowDef="let row; columns: columnas;"></tr>
    </table>
    <mat-paginator [pageSizeOptions]="[4, 10, 20]" showFirstLastButtons aria-label="Seleccione Recibos">
    </mat-paginator>
  </div>
  <div>
    <hr>
    <button mat-raised-button color="success" (click)="abrirModalInsertar()" style="float: right;">
      Agregar Familiar
    </button>
  </div>
</div>
